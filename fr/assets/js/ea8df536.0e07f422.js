"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[112],{9613:(e,t,n)=>{n.d(t,{Zo:()=>o,kt:()=>k});var r=n(9496);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(null==e)return{};var n,r,l=function(e,t){if(null==e)return{};var n,r,l={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}var s=r.createContext({}),u=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},o=function(e){var t=u(e.components);return r.createElement(s.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,l=e.mdxType,a=e.originalType,s=e.parentName,o=p(e,["components","mdxType","originalType","parentName"]),c=u(n),m=l,k=c["".concat(s,".").concat(m)]||c[m]||d[m]||a;return n?r.createElement(k,i(i({ref:t},o),{},{components:n})):r.createElement(k,i({ref:t},o))}));function k(e,t){var n=arguments,l=t&&t.mdxType;if("string"==typeof e||l){var a=n.length,i=new Array(a);i[0]=m;var p={};for(var s in t)hasOwnProperty.call(t,s)&&(p[s]=t[s]);p.originalType=e,p[c]="string"==typeof e?e:l,i[1]=p;for(var u=2;u<a;u++)i[u]=n[u];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},3562:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>s,default:()=>k,frontMatter:()=>p,metadata:()=>u,toc:()=>c});var r=n(1966),l=n(9836),a=(n(9496),n(9613)),i=["components"],p={id:"publish",title:"pnpm publish"},s=void 0,u={unversionedId:"cli/publish",id:"cli/publish",title:"pnpm publish",description:"Publie un paquet dans le registre npm.",source:"@site/i18n/fr/docusaurus-plugin-content-docs/current/cli/publish.md",sourceDirName:"cli",slug:"/cli/publish",permalink:"/fr/next/cli/publish",draft:!1,editUrl:"https://translate.pnpm.io/project/pnpm/fr",tags:[],version:"current",frontMatter:{id:"publish",title:"pnpm publish"},sidebar:"docs",previous:{title:"pnpm env <cmd>",permalink:"/fr/next/cli/env"},next:{title:"pnpm pack",permalink:"/fr/next/cli/pack"}},o={},c=[{value:"Options",id:"options",level:2},{value:"--recursive, -r",id:"--recursive--r",level:3},{value:"--json",id:"--json",level:3},{value:"--tag &lt;tag&gt;",id:"--tag-tag",level:3},{value:"--access &lt;public|restricted&gt;",id:"--access-publicrestricted",level:3},{value:"--no-git-checks",id:"--no-git-checks",level:3},{value:"--publish-branch",id:"--publish-branch",level:3},{value:"--force",id:"--force",level:3},{value:"--report-summary",id:"--report-summary",level:3},{value:"--dry-run",id:"--dry-run",level:3},{value:"--otp",id:"--otp",level:3},{value:"--filter &lt;package_selector&gt;",id:"--filter-package_selector",level:3},{value:"Configuration",id:"configuration",level:2},{value:"\xc9tat du cycle de vie",id:"\xe9tat-du-cycle-de-vie",level:2}],d={toc:c},m="wrapper";function k(e){var t=e.components,n=(0,l.Z)(e,i);return(0,a.kt)(m,(0,r.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"Publie un paquet dans le registre npm."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"pnpm [-r] publish [<tarball|folder>] [--tag <tag>]\n     [--access <public|restricted>] [options]\n")),(0,a.kt)("p",null,"Lors de la publication d'un package dans un",(0,a.kt)("a",{parentName:"p",href:"/fr/next/workspaces"}," espace de travail "),",le fichier LICENSE de la racine de l'espace de travail est emball\xe9 avec le paquet (sauf si le paquet poss\xe8de sa propre licence)."),(0,a.kt)("p",null,"Vous pouvez remplacer certains champs avant de publier, en utilisant le champ ",(0,a.kt)("a",{parentName:"p",href:"/fr/next/package_json#publishconfig"},"publishConfig")," dans ",(0,a.kt)("inlineCode",{parentName:"p"},"package.json"),". Vous pouvez \xe9galement utiliser ",(0,a.kt)("a",{parentName:"p",href:"/fr/next/package_json#publishconfigdirectory"},(0,a.kt)("inlineCode",{parentName:"a"},"publishConfig.directory"))," pour personnaliser le sous-r\xe9pertoire publi\xe9 (g\xe9n\xe9ralement \xe0 l'aide d'outils de g\xe9n\xe9ration tiers)."),(0,a.kt)("p",null,"Lors de l'ex\xe9cution de cette commande de mani\xe8re r\xe9cursive (",(0,a.kt)("inlineCode",{parentName:"p"},"pnpm -r publish"),"), pnpm publiera les packages dont les versions ne sont pas encore publi\xe9es dans le registre."),(0,a.kt)("h2",{id:"options"},"Options"),(0,a.kt)("h3",{id:"--recursive--r"},"--recursive, -r"),(0,a.kt)("p",null,"Publier tous les paquets de l'espace de travail."),(0,a.kt)("h3",{id:"--json"},"--json"),(0,a.kt)("p",null,"Affiche les informations au format JSON."),(0,a.kt)("h3",{id:"--tag-tag"},"--tag ","<","tag",">"),(0,a.kt)("p",null,"Publie le paquet avec le tag donn\xe9. Par d\xe9faut, ",(0,a.kt)("inlineCode",{parentName:"p"},"pnpm publish")," met \xe0 jour les ",(0,a.kt)("inlineCode",{parentName:"p"},"derni\xe8res")," balises."),(0,a.kt)("p",null,"Par exemple:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"# dans le r\xe9pertoire du package foo\npnpm publish --tag next\n# dans un projet o\xf9 vous souhaitez utiliser la prochaine version de foo\npnpm add foo@next\n")),(0,a.kt)("h3",{id:"--access-publicrestricted"},"--access ","<","public|restricted",">"),(0,a.kt)("p",null,"Indique au registre si le paquet publi\xe9 doit \xeatre public ou restreint."),(0,a.kt)("h3",{id:"--no-git-checks"},"--no-git-checks"),(0,a.kt)("p",null,"Ne v\xe9rifie pas si la branche actuelle est votre branche de publication, propre et \xe0 jour avec remote."),(0,a.kt)("h3",{id:"--publish-branch"},"--publish-branch"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Default: ",(0,a.kt)("strong",{parentName:"li"},"master")," and ",(0,a.kt)("strong",{parentName:"li"},"main")),(0,a.kt)("li",{parentName:"ul"},"Types: ",(0,a.kt)("strong",{parentName:"li"},"String"))),(0,a.kt)("p",null,"La branche principale du r\xe9f\xe9rentiel qui est utilis\xe9e pour publier les derni\xe8res modifications."),(0,a.kt)("h3",{id:"--force"},"--force"),(0,a.kt)("p",null,"Essaye de publier des paquets m\xeame si leur version actuelle est d\xe9j\xe0 trouv\xe9e dans le registre."),(0,a.kt)("h3",{id:"--report-summary"},"--report-summary"),(0,a.kt)("p",null,"Enregistrez la liste des packages publi\xe9s dans ",(0,a.kt)("inlineCode",{parentName:"p"},"pnpm-publish-summary.json"),". Utile lorsque d'autres outils sont utilis\xe9s pour signaler la liste des paquets publi\xe9s."),(0,a.kt)("p",null,"Un exemple de fichier ",(0,a.kt)("inlineCode",{parentName:"p"},"pnpm-publish-summary.json"),":"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "publishedPackages": [\n    {\n      "name": "foo",\n      "version": "1.0.0"\n    },\n    {\n      "name": "bar",\n      "version": "2.0.0"\n    }\n  }\n]\n')),(0,a.kt)("h3",{id:"--dry-run"},"--dry-run"),(0,a.kt)("p",null,"Fait tout ce qu'une publication ferait sauf la publication dans le registre."),(0,a.kt)("h3",{id:"--otp"},"--otp"),(0,a.kt)("p",null,"Lors de la publication de paquets n\xe9cessitant une authentification \xe0 deux facteurs, cette option peut sp\xe9cifier un mot de passe unique."),(0,a.kt)("h3",{id:"--filter-package_selector"},"--filter ","<","package_selector",">"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"/fr/next/filtering"},"En savoir plus sur le filtrage.")),(0,a.kt)("h2",{id:"configuration"},"Configuration"),(0,a.kt)("p",null,"Vous pouvez \xe9galement d\xe9finir les options ",(0,a.kt)("inlineCode",{parentName:"p"},"git-checks"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"publish-branch")," dans le fichier ",(0,a.kt)("inlineCode",{parentName:"p"},".npmrc"),"."),(0,a.kt)("p",null,"Par exemple:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ini",metastring:'title=".npmrc"',title:'".npmrc"'},"git-checks=false\npublish-branch=production\n")),(0,a.kt)("h2",{id:"\xe9tat-du-cycle-de-vie"},"\xc9tat du cycle de vie"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"prepublishOnly")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"prepublish")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"prepack")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"prepare")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"postpack")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"publish")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"postpublish"))))}k.isMDXComponent=!0}}]);