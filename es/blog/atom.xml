<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://pnpm.io/es/blog</id>
    <title>pnpm Blog</title>
    <updated>2022-12-30T00:00:00.000Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://pnpm.io/es/blog"/>
    <subtitle>pnpm Blog</subtitle>
    <icon>https://pnpm.io/es/img/favicon.png</icon>
    <entry>
        <title type="html"><![CDATA[El año 2022 para pnpm]]></title>
        <id>https://pnpm.io/es/blog/2022/12/30/yearly-update</id>
        <link href="https://pnpm.io/es/blog/2022/12/30/yearly-update"/>
        <updated>2022-12-30T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Es el final del año. Un año realmente duro. Como sabrán, vivo en Ucrania, así que debido a la guerra de Rusia contra nosotros, fue más difícil liderar este proyecto que en años anteriores. Sin embargo, fue un buen año para pnpm. Tenemos muchos usuarios nuevos, colaboradores y hemos implementado muchas funciones excelentes.]]></summary>
        <content type="html"><![CDATA[<p>Es el final del año. Un año realmente duro. Como sabrán, vivo en Ucrania, así que debido a la guerra de Rusia contra nosotros, fue más difícil liderar este proyecto que en años anteriores. Sin embargo, fue un buen año para pnpm. Tenemos muchos usuarios nuevos, colaboradores y hemos implementado muchas funciones excelentes.</p><p><img loading="lazy" src="/es/assets/images/2022-review-092f8f0dfe82b760c2e90fd776d82f75.png" width="640" height="640" class="img_Ytbv"></p><p>(La ilustración anterior fue generada por Midjourney. El tigre simboliza el año del tigre)</p><h2 class="anchor anchorWithStickyNavbar_G0xS" id="uso">Uso<a href="#uso" class="hash-link" aria-label="Direct link to Uso" title="Direct link to Uso">​</a></h2><h3 class="anchor anchorWithStickyNavbar_G0xS" id="estadísticas">Estadísticas<a href="#estadísticas" class="hash-link" aria-label="Direct link to Estadísticas" title="Direct link to Estadísticas">​</a></h3><p>Mi objetivo este año era vencer a Lerna por el número de descargas. Pudimos lograr este objetivo <a href="https://npm-stat.com/charts.html?package=pnpm&amp;package=lerna&amp;from=2022-01-01&amp;to=2022-12-30" target="_blank" rel="noopener noreferrer">el</a>de agosto:</p><p><img loading="lazy" src="/es/assets/images/pnpm-vs-lerna-stats-cad28f3b9685ef684c864f919f7f9c5e.png" width="997" height="400" class="img_Ytbv"></p><p>pnpm se descargó más de <a href="https://npm-stat.com/charts.html?package=pnpm&amp;from=2016-12-01&amp;to=2022-12-30" target="_blank" rel="noopener noreferrer">5 veces más</a> en 2022 que en 2021:</p><p><img loading="lazy" src="/es/assets/images/download-stats-2022-e4de79bf61e1066802166f9d97cb36ac.png" width="997" height="400" class="img_Ytbv"></p><h3 class="anchor anchorWithStickyNavbar_G0xS" id="visitas-a-la-documentación">Visitas a la documentación<a href="#visitas-a-la-documentación" class="hash-link" aria-label="Direct link to Visitas a la documentación" title="Direct link to Visitas a la documentación">​</a></h3><p>Recopilamos algunas estadísticas no personalizadas de nuestros documentos utilizando Google Analytics. En 2022, a veces tuvimos más de 20&nbsp;000 visitantes únicos por semana. ¡Esto es 10 veces más que en 2021!</p><p><img loading="lazy" src="/es/assets/images/ga-unique-visits-2022-b2e9bf0b6c559a5c59fdbfd8bb1861f0.png" width="778" height="391" class="img_Ytbv"></p><h3 class="anchor anchorWithStickyNavbar_G0xS" id="estrellas-en-github">Estrellas en GitHub<a href="#estrellas-en-github" class="hash-link" aria-label="Direct link to Estrellas en GitHub" title="Direct link to Estrellas en GitHub">​</a></h3><p>Nuestro <a href="https://github.com/pnpm/pnpm" target="_blank" rel="noopener noreferrer">repositorio principal de GitHub</a> recibió casi +7,000 estrellas este año.</p><p><img loading="lazy" src="/es/assets/images/stars-2022-434ca95e6da688fdff1bb1bf89d6a2d9.png" width="584" height="787" class="img_Ytbv"></p><h3 class="anchor anchorWithStickyNavbar_G0xS" id="nuestros-colaboradores">Nuestros colaboradores<a href="#nuestros-colaboradores" class="hash-link" aria-label="Direct link to Nuestros colaboradores" title="Direct link to Nuestros colaboradores">​</a></h3><p>Tuvimos muchos colaboradores nuevos y activos este año. Estas son las personas que fusionan al menos una PR en 2022:</p><ul><li><a href="https://github.com/zkochan" target="_blank" rel="noopener noreferrer">Zoltan Kochan</a></li><li><a href="https://github.com/lvqq" target="_blank" rel="noopener noreferrer">chlorine</a></li><li><a href="https://github.com/await-ovo" target="_blank" rel="noopener noreferrer">await-ovo</a></li><li><a href="https://github.com/gluxon" target="_blank" rel="noopener noreferrer">Brandon Cheng</a></li><li><a href="https://github.com/d3lm" target="_blank" rel="noopener noreferrer">Dominic Elm</a></li><li><a href="https://github.com/mcmxcdev" target="_blank" rel="noopener noreferrer">MCMXC</a></li><li><a href="https://github.com/dev-itsheng" target="_blank" rel="noopener noreferrer">那里好脏不可以</a></li><li><a href="https://github.com/HomyeeKing" target="_blank" rel="noopener noreferrer">Homyee King</a></li><li><a href="https://github.com/Shinyaigeek" target="_blank" rel="noopener noreferrer">Shinobu Hayashi</a></li><li><a href="https://github.com/BlackHole1" target="_blank" rel="noopener noreferrer">Black-Hole</a></li><li><a href="https://github.com/kenrick95" target="_blank" rel="noopener noreferrer">Kenrick</a></li><li><a href="https://github.com/weyert" target="_blank" rel="noopener noreferrer">Weyert de Boer</a></li><li><a href="https://github.com/gwhitney" target="_blank" rel="noopener noreferrer">Glen Whitney</a></li><li><a href="https://github.com/chengcyber" target="_blank" rel="noopener noreferrer">Cheng</a></li><li><a href="https://github.com/fireairforce" target="_blank" rel="noopener noreferrer">zoomdong</a></li><li><a href="https://github.com/ufec" target="_blank" rel="noopener noreferrer">thinkhalo</a></li><li><a href="https://github.com/LuciNyan" target="_blank" rel="noopener noreferrer">子瞻 Luci</a></li><li><a href="https://github.com/Spencer17x" target="_blank" rel="noopener noreferrer">spencer17x</a></li><li><a href="https://github.com/liuxingbaoyu" target="_blank" rel="noopener noreferrer">liuxingbaoyu</a></li><li><a href="https://github.com/WhiteKiwi" target="_blank" rel="noopener noreferrer">장지훈</a></li><li><a href="https://github.com/jondlm" target="_blank" rel="noopener noreferrer">Jon de la Motte</a></li><li><a href="https://github.com/Jack-Works" target="_blank" rel="noopener noreferrer">Jack Works</a></li><li><a href="https://github.com/milahu" target="_blank" rel="noopener noreferrer">milahu</a></li><li><a href="https://github.com/David-Collins" target="_blank" rel="noopener noreferrer">David Collins</a></li><li><a href="https://github.com/nikoladev" target="_blank" rel="noopener noreferrer">nikoladev</a></li><li><a href="https://github.com/ibezkrovnyi" target="_blank" rel="noopener noreferrer">Igor Bezkrovnyi</a></li><li><a href="https://github.com/illright" target="_blank" rel="noopener noreferrer">Lev Chelyadinov</a></li><li><a href="https://github.com/javier-garcia-meteologica" target="_blank" rel="noopener noreferrer">javier-garcia-meteologica</a></li></ul><h2 class="anchor anchorWithStickyNavbar_G0xS" id="características-destacadas">Características destacadas<a href="#características-destacadas" class="hash-link" aria-label="Direct link to Características destacadas" title="Direct link to Características destacadas">​</a></h2><h3 class="anchor anchorWithStickyNavbar_G0xS" id="compatible-con-node_modules-elevados-sin-enlaces-simbólicos-desde-v6250">Compatible con <code>node_modules</code> elevados sin enlaces simbólicos (desde <a href="https://github.com/pnpm/pnpm/releases/tag/v6.25.0" target="_blank" rel="noopener noreferrer">v6.25.0</a>)<a href="#compatible-con-node_modules-elevados-sin-enlaces-simbólicos-desde-v6250" class="hash-link" aria-label="Direct link to compatible-con-node_modules-elevados-sin-enlaces-simbólicos-desde-v6250" title="Direct link to compatible-con-node_modules-elevados-sin-enlaces-simbólicos-desde-v6250">​</a></h3><p>Justo a principios de 2022, agregamos soporte para el izado "tradicional" (también conocido como flat <code>node_modules</code>). Usamos el algoritmo de elevación de Yarn para crear un <code>node_modules</code>izado adecuado. Esta nueva configuración básicamente ha hecho que pnpm sea compatible con todas las pilas de Node.js que son compatibles con npm CLI.</p><p>Para usar la estructura de directorio hoisted <code>node_modules</code>, use la configuración <code>node-linker=hoisted</code> en un archivo <code>.npmrc</code>.</p><h3 class="anchor anchorWithStickyNavbar_G0xS" id="caché-de-efectos-secundarios-desde-v700">Caché de efectos secundarios (desde <a href="https://github.com/pnpm/pnpm/releases/tag/v7.0.0" target="_blank" rel="noopener noreferrer">v7.0.0</a>)<a href="#caché-de-efectos-secundarios-desde-v700" class="hash-link" aria-label="Direct link to caché-de-efectos-secundarios-desde-v700" title="Direct link to caché-de-efectos-secundarios-desde-v700">​</a></h3><p>Desde v7, <a href="/es/npmrc#side-effects-cache">side-effect-cache</a> está habilitado de forma predeterminada, por lo que las dependencias que deben construirse solo se crean una vez en una máquina. Esto mejora mucho la velocidad de instalación en proyectos que tienen dependencias con scripts de compilación.</p><h3 class="anchor anchorWithStickyNavbar_G0xS" id="caché-de-efectos-secundarios-desde-v740">Caché de efectos secundarios (desde <a href="https://github.com/pnpm/pnpm/releases/tag/v7.4.0" target="_blank" rel="noopener noreferrer">v7.4.0</a>)<a href="#caché-de-efectos-secundarios-desde-v740" class="hash-link" aria-label="Direct link to caché-de-efectos-secundarios-desde-v740" title="Direct link to caché-de-efectos-secundarios-desde-v740">​</a></h3><p>Se agregó el comando <a href="/es/cli/patch"><code>pnpm patch</code></a> para parchear dependencias en sus <code>node_modules</code>.</p><h3 class="anchor anchorWithStickyNavbar_G0xS" id="estrategia-de-resolución-basada-en-el-tiempo-desde-v7100">Estrategia de resolución basada en el tiempo (desde <a href="https://github.com/pnpm/pnpm/releases/tag/v7.10.0" target="_blank" rel="noopener noreferrer">v7.10.0</a>)<a href="#estrategia-de-resolución-basada-en-el-tiempo-desde-v7100" class="hash-link" aria-label="Direct link to estrategia-de-resolución-basada-en-el-tiempo-desde-v7100" title="Direct link to estrategia-de-resolución-basada-en-el-tiempo-desde-v7100">​</a></h3><p>Se agregó un nuevo modo de resolución a pnpm, lo que debería hacer que las dependencias de actualización sean más seguras. Puede cambiar el modo de resolución con la configuración <a href="https://pnpm.io/npmrc#resolution-mode" target="_blank" rel="noopener noreferrer">modo de resolución</a>.</p><h3 class="anchor anchorWithStickyNavbar_G0xS" id="listado-de-licencias-de-dependencias-desde-v7170">Listado de licencias de dependencias (desde <a href="https://github.com/pnpm/pnpm/releases/tag/v7.17.0" target="_blank" rel="noopener noreferrer">v7.17.0</a>)<a href="#listado-de-licencias-de-dependencias-desde-v7170" class="hash-link" aria-label="Direct link to listado-de-licencias-de-dependencias-desde-v7170" title="Direct link to listado-de-licencias-de-dependencias-desde-v7170">​</a></h3><p>Ahora puede usar el comando <a href="/es/cli/licenses"><code>pnpm licenses list</code></a> para verificar las licencias de los paquetes instalados.</p>]]></content>
        <author>
            <name>Zoltan Kochan</name>
            <uri>http://twitter.com/zoltankochan</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[El año 2021 para pnpm]]></title>
        <id>https://pnpm.io/es/blog/2021/12/29/yearly-update</id>
        <link href="https://pnpm.io/es/blog/2021/12/29/yearly-update"/>
        <updated>2021-12-29T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Es fin de año y fue un buen año para pnpm, así que veamos cómo nos fue.]]></summary>
        <content type="html"><![CDATA[<p>Es fin de año y fue un buen año para pnpm, así que veamos cómo nos fue.</p><h2 class="anchor anchorWithStickyNavbar_G0xS" id="uso">Uso<a href="#uso" class="hash-link" aria-label="Direct link to Uso" title="Direct link to Uso">​</a></h2><h3 class="anchor anchorWithStickyNavbar_G0xS" id="descargar-estadísticas">Descargar estadísticas<a href="#descargar-estadísticas" class="hash-link" aria-label="Direct link to Descargar estadísticas" title="Direct link to Descargar estadísticas">​</a></h3><p>Mi objetivo este año era vencer a Bower por en número de descargas. Pudimos lograr este objetivo <a href="https://npm-stat.com/charts.html?package=pnpm&amp;package=bower&amp;from=2021-01-01&amp;to=2021-12-29" target="_blank" rel="noopener noreferrer">en Noviembre</a>:</p><p><img loading="lazy" src="/es/assets/images/pnpm-vs-bower-stats-6ec69a7308f5fbc1433420b1b2f7457f.png" width="976" height="389" class="img_Ytbv"></p><p>pnpm se descargó unas <a href="https://npm-stat.com/charts.html?package=pnpm&amp;from=2016-12-01&amp;to=2021-12-29" target="_blank" rel="noopener noreferrer">3 veces más</a> en 2021 que en 2020:</p><p><img loading="lazy" src="/es/assets/images/download-stats-2021-1418562cb03abd558c4a6b4b17155227.png" width="983" height="394" class="img_Ytbv"></p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_fVrm"><div class="admonitionHeading_CfVA"><span class="admonitionIcon_Hsjw"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_CXYE"><p>¡Estas estadísticas ni siquiera miden todas las diferentes formas en que se puede instalar pnpm! Solo miden las descargas de<a href="https://www.npmjs.com/package/pnpm" target="_blank" rel="noopener noreferrer">pnpm npm package</a>. Este año también agregamos versiones binarias compiladas de pnpm, que se entregan de manera diferente.</p></div></div><h3 class="anchor anchorWithStickyNavbar_G0xS" id="visitas-a-la-documentación">Visitas a la documentación<a href="#visitas-a-la-documentación" class="hash-link" aria-label="Direct link to Visitas a la documentación" title="Direct link to Visitas a la documentación">​</a></h3><p>Nosotros recogemos estadísticas no personalizadas de nuestra documentación utilizando Google Analytics. En 2021, a veces teníamos mas de 2,000 visitantes únicos a la semana.</p><p><img loading="lazy" src="/es/assets/images/ga-unique-visits-2021-b8bc3649f680565127696c85bdd4b701.png" width="665" height="509" class="img_Ytbv"></p><p>La mayoría de nuestros usuarios son de los Estados Unidos y China.</p><p><img loading="lazy" src="/es/assets/images/countries-2021-8eb9625e1798649ee04451dfb10ac851.png" width="585" height="498" class="img_Ytbv"></p><h3 class="anchor anchorWithStickyNavbar_G0xS" id="estrellas-en-github">Estrellas en GitHub<a href="#estrellas-en-github" class="hash-link" aria-label="Direct link to Estrellas en GitHub" title="Direct link to Estrellas en GitHub">​</a></h3><p>Nuestro <a href="https://github.com/pnpm/pnpm" target="_blank" rel="noopener noreferrer">repositorio principal de GitHub</a> recibió +5.000 estrellas este año.</p><p><img loading="lazy" src="/es/assets/images/stars-2021-0061c16f424e33ba0db224d82bcb53f3.png" width="913" height="800" class="img_Ytbv"></p><h3 class="anchor anchorWithStickyNavbar_G0xS" id="nuevos-usuarios">Nuevos usuarios<a href="#nuevos-usuarios" class="hash-link" aria-label="Direct link to Nuevos usuarios" title="Direct link to Nuevos usuarios">​</a></h3><p>Nuestro nuevo usuario más grande este año es <a href="https://github.com/pnpm/pnpm.github.io/pull/89" target="_blank" rel="noopener noreferrer">Bytedance</a> (la compañía detrás de TikTok).</p><p>Además, muchos grandes proyectos de código abierto comenzaron a usar pnpm. Algunos cambiaron a pnpm debido a su gran soporte de monorepos:</p><ul><li><a href="https://github.com/vuejs/vue-next" target="_blank" rel="noopener noreferrer">Vue</a></li><li><a href="https://github.com/vitejs/vite" target="_blank" rel="noopener noreferrer">Vite</a></li><li>y <a href="https://pnpm.io/workspaces#usage-examples" target="_blank" rel="noopener noreferrer">otros</a></li></ul><p>Algunos cambiaron porque les gusta lo eficiente, rápido y hermoso que es pnpm:</p><ul><li><a href="https://twitter.com/Autoprefixer/status/1476226146488692736" target="_blank" rel="noopener noreferrer">Autoprefixer</a></li><li><a href="https://twitter.com/PostCSS/status/1470438664006258701" target="_blank" rel="noopener noreferrer">PostCSS</a></li><li><a href="https://twitter.com/Browserslist/status/1468264308308156419" target="_blank" rel="noopener noreferrer">Browserslist</a></li></ul><h2 class="anchor anchorWithStickyNavbar_G0xS" id="características-destacadas">Características destacadas<a href="#características-destacadas" class="hash-link" aria-label="Direct link to Características destacadas" title="Direct link to Características destacadas">​</a></h2><h3 class="anchor anchorWithStickyNavbar_G0xS" id="nuevo-formato-de-archivo-de-bloqueo-desde-v600">Nuevo formato de archivo de bloqueo (desde <a href="https://github.com/pnpm/pnpm/releases/tag/v6.0.0" target="_blank" rel="noopener noreferrer">v6.0.0</a>)<a href="#nuevo-formato-de-archivo-de-bloqueo-desde-v600" class="hash-link" aria-label="Direct link to nuevo-formato-de-archivo-de-bloqueo-desde-v600" title="Direct link to nuevo-formato-de-archivo-de-bloqueo-desde-v600">​</a></h3><p>Uno de los primeros y más importantes cambios de este año fue el nuevo formato <code>pnpm-lock.yaml</code>. Este fue un cambio importante, por lo que tuvimos que lanzar v6. Pero fue un éxito. El antiguo archivo de bloqueo causaba conflictos de Git con frecuencia. Desde que se introdujo el nuevo formato, no recibimos ninguna queja sobre conflictos de Git.</p><h3 class="anchor anchorWithStickyNavbar_G0xS" id="gestión-de-versiones-de-nodejs-desde-v6120">Gestión de versiones de Node.js (desde <a href="https://github.com/pnpm/pnpm/releases/tag/v6.12.0" target="_blank" rel="noopener noreferrer">v6.12.0</a>)<a href="#gestión-de-versiones-de-nodejs-desde-v6120" class="hash-link" aria-label="Direct link to gestión-de-versiones-de-nodejs-desde-v6120" title="Direct link to gestión-de-versiones-de-nodejs-desde-v6120">​</a></h3><p>Enviamos un nuevo comando (<code>pnpm env</code>) que permite gestionar las versiones de Node.js. Por lo tanto, puede usar pnpm en lugar de los administradores de versiones de Node.js como nvm o Volta.</p><p>Además, pnpm se envía como un ejecutable independiente, por lo que puede ejecutarlo incluso sin Node.js preinstalado en el sistema.</p><h3 class="anchor anchorWithStickyNavbar_G0xS" id="inyectando-dependencias-locales-desde-v6200">Inyectando dependencias locales (desde <a href="https://github.com/pnpm/pnpm/releases/tag/v6.20.0" target="_blank" rel="noopener noreferrer">v6.20.0</a>)<a href="#inyectando-dependencias-locales-desde-v6200" class="hash-link" aria-label="Direct link to inyectando-dependencias-locales-desde-v6200" title="Direct link to inyectando-dependencias-locales-desde-v6200">​</a></h3><p>Puede "inyectar" una dependencia local. Por defecto, las dependencias locales están enlazadas simbólicamente a <code>node_modules</code>, pero con esta nueva característica se puede dar instrucciones a pnpm para vincular duramente los archivos del paquete.</p><h3 class="anchor anchorWithStickyNavbar_G0xS" id="informe-mejorado-de-problemas-de-dependencia-entre-pares-desde-v6240">Informe mejorado de problemas de dependencia entre pares (desde <a href="https://github.com/pnpm/pnpm/releases/tag/v6.24.0" target="_blank" rel="noopener noreferrer">v6.24.0</a>)<a href="#informe-mejorado-de-problemas-de-dependencia-entre-pares-desde-v6240" class="hash-link" aria-label="Direct link to informe-mejorado-de-problemas-de-dependencia-entre-pares-desde-v6240" title="Direct link to informe-mejorado-de-problemas-de-dependencia-entre-pares-desde-v6240">​</a></h3><p>Los problemas de dependencia entre pares solían imprimirse como texto sin formato y era difícil entenderlos. Ahora están todos agrupados e impresos en una bonita estructura jerárquica.</p><h2 class="anchor anchorWithStickyNavbar_G0xS" id="la-competencia">La competencia<a href="#la-competencia" class="hash-link" aria-label="Direct link to La competencia" title="Direct link to La competencia">​</a></h2><h3 class="anchor anchorWithStickyNavbar_G0xS" id="yarn">Yarn<a href="#yarn" class="hash-link" aria-label="Direct link to Yarn" title="Direct link to Yarn">​</a></h3><p>Yarn agregó un enlazador pnpm en <a href="https://dev.to/arcanis/yarn-31-corepack-esm-pnpm-optional-packages--3hak#new-install-mode-raw-pnpm-endraw-" target="_blank" rel="noopener noreferrer">v3.1</a>. Entonces, Yarn puede crear una estructura de directorio de módulos de node similar a la que crea pnpm.</p><p>Además, el equipo de Yarn planea implementar un almacenamiento direccionable por contenido para ser más eficiente en el uso del espacio en disco.</p><h3 class="anchor anchorWithStickyNavbar_G0xS" id="npm">npm<a href="#npm" class="hash-link" aria-label="Direct link to npm" title="Direct link to npm">​</a></h3><p>El equipo de npm decidió adoptar también la estructura de directorios de módulos de node enlazados que utiliza pnpm (relacionada con <a href="https://github.com/npm/rfcs/blob/main/accepted/0042-isolated-mode.md" target="_blank" rel="noopener noreferrer">RFC</a>).</p><h3 class="anchor anchorWithStickyNavbar_G0xS" id="otros">Otros<a href="#otros" class="hash-link" aria-label="Direct link to Otros" title="Direct link to Otros">​</a></h3><p><a href="https://twitter.com/jarredsumner/status/1473416431291174912/photo/1" target="_blank" rel="noopener noreferrer">Bun</a> escrito en Zig y <a href="https://github.com/voltpkg/volt" target="_blank" rel="noopener noreferrer">Volt</a> escrito en Rust afirman ser más rápidos que npm/Yarn/pnpm. Todavía no he comparado estos nuevos gestores de paquetes.</p><h2 class="anchor anchorWithStickyNavbar_G0xS" id="planes-futuros">Planes futuros<a href="#planes-futuros" class="hash-link" aria-label="Direct link to Planes futuros" title="Direct link to Planes futuros">​</a></h2><p>Más rápido, mejor, el mejor.</p>]]></content>
        <author>
            <name>Zoltan Kochan</name>
            <uri>http://twitter.com/zoltankochan</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[Opciones de configuración de Node-Modules con pnpm]]></title>
        <id>https://pnpm.io/es/blog/2020/10/17/node-modules-configuration-options-with-pnpm</id>
        <link href="https://pnpm.io/es/blog/2020/10/17/node-modules-configuration-options-with-pnpm"/>
        <updated>2020-10-17T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Hay muchas maneras de crear un directorio de los módulos de node. Tu objetivo debe ser crear el más estricto, pero si eso no es posible, también hay opciones para hacer un node_modules suelto también.]]></summary>
        <content type="html"><![CDATA[<p>Hay muchas maneras de crear un directorio de los módulos de node. Tu objetivo debe ser crear el más estricto, pero si eso no es posible, también hay opciones para hacer un node_modules suelto también.</p><h2 class="anchor anchorWithStickyNavbar_G0xS" id="la-configuración-predeterminada">La configuración predeterminada<a href="#la-configuración-predeterminada" class="hash-link" aria-label="Direct link to La configuración predeterminada" title="Direct link to La configuración predeterminada">​</a></h2><p>De forma predeterminada, pnpm v6 creará un directorio semi estricto de node_modules. Semi estricto significa que tu aplicación solo podrá requerir paquetes que se agreguen como dependencias a <code>package.json</code> (con un par de excepciones). Sin embargo, tus dependencias podrán acceder a cualquier paquete.</p><p>La configuración predeterminada se ve así:</p><div class="language-ini codeBlockContainer_qBuI theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_s4cj"><pre tabindex="0" class="prism-code language-ini codeBlock_ZB_v thin-scrollbar"><code class="codeBlockLines_iNkr"><span class="token-line" style="color:#393A34"><span class="token plain">; Todos los paquetes son hoisteados a node_modules/.pnpm/node_modules</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hoist-pattern[]=*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">; Todos los tipos son hoisteados a la raíz para que TypeScript no moleste</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public-hoist-pattern[]=*types*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">; Todos los paquetes relacionados con ESLint son hoisteados a la raíz también</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public-hoist-pattern[]=*eslint*</span><br></span></code></pre><div class="buttonGroup_MJM4"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_rG_2" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_l0xu"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_DXTq"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_G0xS" id="plugnplay-la-configuración-más-estricta">Plug'nPlay. La configuración más estricta<a href="#plugnplay-la-configuración-más-estricta" class="hash-link" aria-label="Direct link to Plug'nPlay. La configuración más estricta" title="Direct link to Plug'nPlay. La configuración más estricta">​</a></h2><p>pnpm soporta <a href="https://yarnpkg.com/features/pnp" target="_blank" rel="noopener noreferrer"> el Plug'n'Play de Yarn</a> desde la v5.9. Con PnP, tanto su aplicación como las dependencias de su aplicación tendrán acceso solo a sus dependencias declaradas. Esto es aún más estricto que establecer <code>hoist=false</code> porque dentro de un monorepo, su aplicación no podrá acceder ni siquiera a las dependencias del proyecto raíz.</p><p>Para usar Plug'n'Play, establezca estos ajustes:</p><div class="language-ini codeBlockContainer_qBuI theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_s4cj"><pre tabindex="0" class="prism-code language-ini codeBlock_ZB_v thin-scrollbar"><code class="codeBlockLines_iNkr"><span class="token-line" style="color:#393A34"><span class="token plain">node-linker=pnp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">symlink=false</span><br></span></code></pre><div class="buttonGroup_MJM4"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_rG_2" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_l0xu"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_DXTq"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_G0xS" id="un-directorio-de-módulos-estricto-y-tradicional">Un directorio de módulos estricto y tradicional<a href="#un-directorio-de-módulos-estricto-y-tradicional" class="hash-link" aria-label="Direct link to Un directorio de módulos estricto y tradicional" title="Direct link to Un directorio de módulos estricto y tradicional">​</a></h2><p>Si no estás listo para usar PnP aún, puedes ser estricto y únicamente permitir que los paquetes accedan a sus propias dependencias fijando la configuración de hoist a falso:</p><div class="language-ini codeBlockContainer_qBuI theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_s4cj"><pre tabindex="0" class="prism-code language-ini codeBlock_ZB_v thin-scrollbar"><code class="codeBlockLines_iNkr"><span class="token-line" style="color:#393A34"><span class="token plain">hoist=false</span><br></span></code></pre><div class="buttonGroup_MJM4"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_rG_2" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_l0xu"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_DXTq"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Sin embargo, si alguna de tus dependencias intentan acceder a paquetes que no forman parte de sus dependencias, tienes dos opciones:</p><ol><li><p>Crea un archivo <code>pnpmfile.js</code> y utiliza un <a href="/es/pnpmfile">hook</a> para agregar la dependencia que falta al manifiesto del paquete.</p></li><li><p>Agrega un patrón a la opción <code>hoist-pattern</code>. Por ejemplo, si el módulo que falta es <code>babel-core</code>, agrega la siguiente configuración a <code>.npmrc</code>:</p><div class="language-ini codeBlockContainer_qBuI theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_s4cj"><pre tabindex="0" class="prism-code language-ini codeBlock_ZB_v thin-scrollbar"><code class="codeBlockLines_iNkr"><span class="token-line" style="color:#393A34"><span class="token plain">hoist-pattern[]=babel-core</span><br></span></code></pre><div class="buttonGroup_MJM4"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_rG_2" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_l0xu"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_DXTq"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ol><h2 class="anchor anchorWithStickyNavbar_G0xS" id="el-peor-caso---hoisting-a-la-raíz">El peor caso - hoisting a la raíz<a href="#el-peor-caso---hoisting-a-la-raíz" class="hash-link" aria-label="Direct link to El peor caso - hoisting a la raíz" title="Direct link to El peor caso - hoisting a la raíz">​</a></h2><p>Algunas herramientas tal vez no funcionen aún con la configuración predeterminada de pnpm, que hoistea todo a la raíz de la virtual store y a algunos paquetes a la raíz. En este caso, puedes hoistear todo o una parte de las dependencias a la raíz del directorio de módulos.</p><p>Hoistear todo a la raíz de node_modules:</p><div class="language-ini codeBlockContainer_qBuI theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_s4cj"><pre tabindex="0" class="prism-code language-ini codeBlock_ZB_v thin-scrollbar"><code class="codeBlockLines_iNkr"><span class="token-line" style="color:#393A34"><span class="token plain">shamefully-hoist=true</span><br></span></code></pre><div class="buttonGroup_MJM4"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_rG_2" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_l0xu"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_DXTq"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Hoistear únicamente los paquetes que coincidan con un patrón:</p><div class="language-ini codeBlockContainer_qBuI theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_s4cj"><pre tabindex="0" class="prism-code language-ini codeBlock_ZB_v thin-scrollbar"><code class="codeBlockLines_iNkr"><span class="token-line" style="color:#393A34"><span class="token plain">public-hoist-pattern[]=babel-*</span><br></span></code></pre><div class="buttonGroup_MJM4"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_rG_2" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_l0xu"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_DXTq"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>]]></content>
        <author>
            <name>Zoltan Kochan</name>
            <uri>http://twitter.com/zoltankochan</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[El node_modules plano no es la única forma]]></title>
        <id>https://pnpm.io/es/blog/2020/05/27/flat-node-modules-is-not-the-only-way</id>
        <link href="https://pnpm.io/es/blog/2020/05/27/flat-node-modules-is-not-the-only-way"/>
        <updated>2020-05-27T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Los nuevos usuarios de pnpm me preguntan con frecuencia sobre la extraña estructura de node_modules que crea pnpm. ¿Por qué no es plano? ¿Dónde están todas las sub-dependencias?]]></summary>
        <content type="html"><![CDATA[<p>Los nuevos usuarios de pnpm me preguntan con frecuencia sobre la extraña estructura de <code>node_modules</code> que crea pnpm. ¿Por qué no es plano? ¿Dónde están todas las sub-dependencias?</p><blockquote><p>Voy a suponer que los lectores del artículo ya están familiarizados con el <code>node_modules</code> plano creado por npm y Yarn. Si no entiendes por qué npm 3 tuvo que empezar a usar planos <code>node_modules</code> en v3, puedes encontrar algo de prehistoria en <a href="https://www.kochan.io/nodejs/why-should-we-use-pnpm.html" target="_blank" rel="noopener noreferrer"> ¿Por qué debemos usar pnpm?</a> <em>(en inglés)</em>.</p></blockquote><p>Entonces, ¿por qué es inusual el <code>node_modules de pnpm</code>? Vamos a crear dos directorios y ejecutar <code>npm add express</code> en uno de ellos y <code>pnpm add express</code> en el otro. Aquí está la parte superior de lo que obtienes en <code>node_modules</code> del primer directorio:</p><div class="language-text codeBlockContainer_qBuI theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_s4cj"><pre tabindex="0" class="prism-code language-text codeBlock_ZB_v thin-scrollbar"><code class="codeBlockLines_iNkr"><span class="token-line" style="color:#393A34"><span class="token plain">.bin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">accepts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">array-flatten</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">body-parser</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">bytes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">content-disposition</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cookie-signature</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cookie</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">debug</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">depd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">destroy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ee-first</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">encodeurl</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">escape-html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">etag</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">express</span><br></span></code></pre><div class="buttonGroup_MJM4"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_rG_2" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_l0xu"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_DXTq"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Puedes ver todo el directorio <a href="https://github.com/zkochan/comparing-node-modules/tree/master/npm-example/node_modules" target="_blank" rel="noopener noreferrer">aquí</a>.</p><p>Y esto es lo que obtienes en los <code>node_modules</code> creados por pnpm:</p><div class="language-text codeBlockContainer_qBuI theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_s4cj"><pre tabindex="0" class="prism-code language-text codeBlock_ZB_v thin-scrollbar"><code class="codeBlockLines_iNkr"><span class="token-line" style="color:#393A34"><span class="token plain">.pnpm</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.modules.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">express</span><br></span></code></pre><div class="buttonGroup_MJM4"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_rG_2" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_l0xu"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_DXTq"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Puedes comprobarlo <a href="https://github.com/zkochan/comparing-node-modules/tree/master/pnpm5-example/node_modules" target="_blank" rel="noopener noreferrer">aquí</a>.</p><p>Entonces, ¿dónde están todas las sub-dependencias? Solo hay una carpeta en <code>node_modules</code> llamada <code>.pnpm</code> y un enlace simbólico llamado <code>express</code>. Bueno, solo hemos instalado <code>express</code>, así que este es el único paquete al que tu aplicación tiene que tener acceso</p><blockquote><p>Lea más sobre por qué la rigurosidad de pnpm es algo bueno <a href="https://medium.com/pnpm/pnpms-strictness-helps-to-avoid-silly-bugs-9a15fb306308" target="_blank" rel="noopener noreferrer">aquí</a> <em>(en inglés)</em></p></blockquote><p>Veamos qué hay dentro de <code>express</code>:</p><div class="language-text codeBlockContainer_qBuI theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_s4cj"><pre tabindex="0" class="prism-code language-text codeBlock_ZB_v thin-scrollbar"><code class="codeBlockLines_iNkr"><span class="token-line" style="color:#393A34"><span class="token plain">▾ node_modules</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ▸ .pnpm</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ▾ express</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ▸ lib</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      History.md</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      index.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      LICENSE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      package.json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Readme.md</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  .modules.yaml</span><br></span></code></pre><div class="buttonGroup_MJM4"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_rG_2" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_l0xu"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_DXTq"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>¿<code>express</code> no tiene <code>node_modules</code>? ¿Dónde están todas las dependencias de <code>express</code>?</p><p>El truco está en que <code>express</code> es sólo un enlace simbólico. Cuando Node.js resuelve las dependencias, usa sus ubicaciones reales, por lo que no conserva los enlaces simbólicos. Pero, ¿dónde está la ubicación real de <code>express</code>, podrías preguntarte?</p><p>Aquí: <a href="https://github.com/zkochan/comparing-node-modules/tree/master/pnpm5-example/node_modules/.pnpm/express@4.17.1/node_modules/express" target="_blank" rel="noopener noreferrer">node_modules/.pnpm/express@4.17.1/node_modules/express</a>.</p><p>OK, ahora conocemos el propósito de la carpeta <code>.pnpm/</code>. <code>.pnpm/</code> almacena todos los paquetes en una estructura de carpetas plana, por lo que cada paquete se puede encontrar en una carpeta nombrada con este patrón:</p><div class="language-text codeBlockContainer_qBuI theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_s4cj"><pre tabindex="0" class="prism-code language-text codeBlock_ZB_v thin-scrollbar"><code class="codeBlockLines_iNkr"><span class="token-line" style="color:#393A34"><span class="token plain">.pnpm/&lt;name&gt;@&lt;version&gt;/node_modules/&lt;name&gt;</span><br></span></code></pre><div class="buttonGroup_MJM4"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_rG_2" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_l0xu"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_DXTq"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Lo llamamos el directorio de almacenamiento virtual.</p><p>Esta estructura plana evita los problemas de ruta larga causados por los <code>node_modules</code> anidados creados por npm v2, pero mantiene los paquetes aislados a diferencia de los <code>node_modules</code> planos creados por npm v3,4,5,6 o Yarn v1.</p><p>Ahora veamos la ubicación real de <code>express</code>:</p><div class="language-text codeBlockContainer_qBuI theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_s4cj"><pre tabindex="0" class="prism-code language-text codeBlock_ZB_v thin-scrollbar"><code class="codeBlockLines_iNkr"><span class="token-line" style="color:#393A34"><span class="token plain">  ▾ express</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ▸ lib</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      History.md</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      index.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      LICENSE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      package.json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Readme.md</span><br></span></code></pre><div class="buttonGroup_MJM4"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_rG_2" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_l0xu"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_DXTq"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>¿Es una estafa? ¡Todavía le falta <code>node_modules</code>! El segundo truco de la estructura de <code>node_modules</code> de pnpm es que las dependencias de los paquetes están en el mismo nivel de directorio en el que se encuentra la ubicación real del paquete dependiente. Así que las dependencias de <code>express</code> no están en <code>.pnpm/express@4.17.1/node_modules/express/node_modules/</code> sino en <a href="https://github.com/zkochan/comparing-node-modules/tree/master/pnpm5-example/node_modules/.pnpm/express@4.17.1/node_modules" target="_blank" rel="noopener noreferrer">.pnpm/express@4.17.1/node_modules/</a>:</p><div class="language-text codeBlockContainer_qBuI theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_s4cj"><pre tabindex="0" class="prism-code language-text codeBlock_ZB_v thin-scrollbar"><code class="codeBlockLines_iNkr"><span class="token-line" style="color:#393A34"><span class="token plain">▾ node_modules</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ▾ .pnpm</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ▸ accepts@1.3.5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ▸ array-flatten@1.1.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ▾ express@4.16.3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ▾ node_modules</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ▸ accepts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ▸ array-flatten</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ▸ body-parser</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ▸ content-disposition</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ▸ etag</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ▾ express</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          ▸ lib</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            History.md</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            index.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            LICENSE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            package.json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Readme.md</span><br></span></code></pre><div class="buttonGroup_MJM4"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_rG_2" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_l0xu"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_DXTq"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Todas las dependencias de <code>express</code> son enlaces simbólicos a los directorios apropiados en <code>node_modules/.pnpm/</code>. Colocar dependencias de <code>expreso</code> en un nivel superior permite evitar enlaces simbólicos circulares.</p><p>Así que como puedes ver, a pesar de que la estructura <code>node_modules</code> de pnpm parece inusual al principio:</p><ol><li>es completamente compatible con Node.js</li><li>los paquetes están bien agrupados con sus dependencias</li></ol><p>La estructura es un poco <a href="/es/how-peers-are-resolved">más compleja</a> para paquetes con dependencias entre pares, pero la idea es la misma: usar enlaces simbólicos para crear un anidamiento con una estructura de directorio plana.</p>]]></content>
        <author>
            <name>Zoltan Kochan</name>
            <uri>http://twitter.com/zoltankochan</uri>
        </author>
    </entry>
</feed>